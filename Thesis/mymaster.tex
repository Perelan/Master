\documentclass[UKenglish]{ifimaster}  %% ... or USenglish or norsk or nynorsk
\usepackage[utf8]{inputenc}           %% ... or latin1
\usepackage[T1]{fontenc,url}
\urlstyle{sf}
\usepackage{babel,textcomp,csquotes,duomasterforside,varioref,graphicx}
\usepackage[backend=biber,style=numeric-comp]{biblatex}

%\usepackage{subcaption}
\usepackage[hidelinks]{hyperref}
\usepackage{cleveref}
\usepackage{listings}
\usepackage{parskip}
\usepackage{alltt}
\usepackage{subfig}
\usepackage{todonotes}
\usepackage{enumitem}
\usepackage{textcomp}
\usepackage{epigraph}

\setlength{\parindent}{2em}
\setcounter{secnumdepth}{4}

\colorlet{punct}{red!60!black}
\definecolor{background}{HTML}{EEEEEE}
\definecolor{delim}{RGB}{20,105,176}
\colorlet{numb}{magenta!60!black}

\lstset{
    language=Java,
    columns=flexible,
    breaklines=true,
    keywordstyle=\color{black}\bfseries,
    showstringspaces=false,
    numbers=left,
    numberstyle=\tiny,
    stepnumber=4,
    numbersep=5pt,
    tabsize=4,
}

\lstdefinelanguage{json}{
    basicstyle=\normalfont\ttfamily,
    numbers=left,
    numberstyle=\scriptsize,
    stepnumber=1,
    numbersep=8pt,
    showstringspaces=false,
    breaklines=true,
    frame=lines,
    aboveskip=20pt,
}


\title{Nidra: An Extensible Android Application for Recording, Sharing and Analyzing \\ Breathing Data}
\subtitle{An Engineering Approach}
\author{Jagat Deep Singh}

\addbibresource{sources.bib}            %% ... or whatever

\includeonly{
    sections/introduction/index,
    sections/background/index,
    sections/relatedwork/index,
    sections/design/index,
    sections/implementation/index,
    sections/experiments/index,
    sections/conclusion/index,
    sections/appendix/index
}

\begin{document}
\duoforside[dept={Department of Informatics},   %% ... or your department
  program={Programming and Networks},  %% ... or your programme
  long]                                        %% ... or long

\frontmatter{}
\chapter*{Abstract}
 A vast majority of medical examinations requires the patient to be present at the hospital or laboratory. Statistics Norway \cite{ssb} presents that between 2017-2018 the cost of diagnosis, treatment, and rehabilitation in Norway increased with 7.3 percent for municipal health service. Likewise, the man-years for physicians in the municipal health service increased with 2.4 percent. As such, the growth of medical attendance results in more work and stress induced on the physicians and a higher demand for medical attention from the patients.
 
 Mobile applications that focus on improving healthcare are known as mHealth applications. An excellent example of a mHealth application is the CESAR project, which aims to use low-cost sensor kits to monitor physiological signals during sleep in order to provide early detection of obstructive sleep apnea (OSA) \cite{cesar} from home. The project facilitates a tool that provides a common interface for sensor sources with different Link Layer technology (e.g., BlueTooth, USB, and ANT+) and manufacturer-specific low-level protocols to support their sensor.
 
 In this thesis, we proceed to extend the project by designing and implementing an Android application for users to record, share, and analyze breathing data collected over an extended period. Also, extending the tool to support the Flow sensor, which is a respiratory belt for measuring breathing. The motivation is to aid in collecting breathing data to analyze and detect sleep apnea; albeit, the application can be used in other fields of study (e.g., physical activities). Also, we facilitate an extensible application, that allows for future developers to create modules that extend the functionality in the application or enrich the data from the user's records. The name of the application is Nidra---named after the Hindu goddess of sleep. 
 
 Experiments and observations have shown that the application is capable of collecting data over an extended period using the Flow sensor. More specifically, an 8-hours of recording use approximately 1240 mAh of the battery capacity, which is well sufficient based on the average battery capacity of mobile devices. Also, the application is able to reconnect with the sensor upon disconnects---with the results from the experiment, no more than 40\% of the data was lost. Finally, other developers are successfully able to create modules that integrate with Nidra. 

\chapter*{Acknowledgements}
First of all, I would like to thank my supervisor, Professor Dr. Thomas Peter Plagemann, for his guidance throughout the work in this thesis. The discussions between us have given me invaluable insights that have been helpful during the development and writing of this thesis. For that, I am genuinely grateful for the effort and dedication he put into helping me. 

Next, I'd like to thank my friends that I've gained during the study, as well as my childhood friends. Their encouragement and motivation have kept me going, through thick and thin. 

Above all, I'm truly grateful for my parents' unconditional love and care. Without the support and affection from my Mom, I would not be where I am today. To her, this degree means much more than it does to me.

\vspace*{\fill}

\epigraph{\hfill{\textit{A man is but the product of his thoughts; what he thinks, \\he becomes.}}}{\textbf{Mahatma Gandhi}}

\tableofcontents

\addcontentsline{toc}{chapter}{List of Tables}
\listoftables

\addcontentsline{toc}{chapter}{List of Figures}
\listoffigures

\addcontentsline{toc}{chapter}{List of Listings}
\lstlistoflistings

\mainmatter{}

\part{Introduction and Background}
\include{sections/introduction/index}
\include{sections/background/index}
\include{sections/relatedwork/index}

\part{Design and Implementation}
\include{sections/design/index}
\include{sections/implementation/index}

\part{Evaluation and Conclusion}
\include{sections/experiments/index}

\include{sections/conclusion/index}


\addcontentsline{toc}{part}{Appendix}
\part*{Appendix}

\appendix{}
\include{sections/appendix/index}

\backmatter{}
\printbibliography
\end{document}
